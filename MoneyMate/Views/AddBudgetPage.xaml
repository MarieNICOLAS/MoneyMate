<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             xmlns:components="clr-namespace:MoneyMate.Components"
             xmlns:viewmodel="clr-namespace:MoneyMate.ViewModels"
             x:Class="MoneyMate.Views.AddBudgetPage"
             Title="Ajouter mon budget">

    <ContentPage.BindingContext>
        <viewmodel:BaseViewModel />
    </ContentPage.BindingContext>
    
    <Grid RowDefinitions="Auto,*,Auto"
       BackgroundColor="{StaticResource BackgroundLight}">

        <!-- HEADER -->
        <components:HeaderAuthenticated Grid.Row="0" />

        <!-- CONTENU -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20" Spacing="25" HorizontalOptions="Center">


                <Label 
        Text="Créer un nouveau budget"
        FontSize="24"
        HorizontalOptions="Center"
        TextColor="{StaticResource Primary}" />

        <!-- Montant total -->
        <Label Text="Montant total (€)"
           Style="{StaticResource FormLabel}" />
        <Entry x:Name="TotalAmountEntry"
           Placeholder="Ex: 2000"
           Keyboard="Numeric"
           Style="{StaticResource EntryForm}"
           Text="{Binding TotalAmount}" />

        <!-- Date (mois et année) -->
        <Label Text="Mois du budget"
           Style="{StaticResource FormLabel}" />
        <DatePicker 
        Date="{Binding SelectedDate, Mode=TwoWay}"
        MaximumDate="{x:Static sys:DateTime.Now}"
        Format="MM/yyyy"
        HorizontalOptions="FillAndExpand" />

        <!-- Bouton de création -->
        <Button Text="Créer le budget"
            Style="{StaticResource PrimaryButton}"
            Command="{Binding CreateBudgetCommand}" />
    </VerticalStackLayout>
    </ScrollView>

    <components:Navbar Grid.Row="2" />
    </Grid>
</ContentPage>