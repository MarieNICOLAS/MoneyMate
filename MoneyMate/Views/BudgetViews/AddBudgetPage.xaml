<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:MoneyMate.Components"
             xmlns:viewmodels="clr-namespace:MoneyMate.ViewModels"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             x:Class="MoneyMate.Views.AddBudgetPage"
             x:Name="PageRoot">

    <Grid RowDefinitions="Auto,*,Auto"
          BackgroundColor="{StaticResource BackgroundLight}">

        <!-- â­ HEADER -->
        <components:HeaderAuthenticated Grid.Row="0" />

        <ScrollView Grid.Row="1" Padding="0,0,0,40">
            <VerticalStackLayout Style="{StaticResource MainContainer}"
                               Spacing="15"
                               Margin="0,0,0,80">
                <!-- ðŸ·ï¸ TITRE -->
                <Label Text="CrÃ©er un budget"
                     FontSize="24"
                     FontAttributes="Bold"
                     TextColor="{StaticResource Primary}" />

                <!-- ðŸ’¶ Montant total -->
                <Label Text="Montant total (â‚¬)"
                       Style="{StaticResource FormLabel}"
                       Margin="0,10,0,0"/>

                <Border Style="{StaticResource InputBorder}">
                    <Entry Placeholder="Ex : 2000"
                           Keyboard="Numeric"
                           Text="{Binding TotalAmount}"
                           Style="{StaticResource EntryForm}" />
                </Border>

                <!-- ðŸ—“ï¸ Mois / annÃ©e -->
                <Label Text="Mois du budget"
                       Style="{StaticResource FormLabel}"
                       Margin="0,10,0,0"/>

                <Border Style="{StaticResource InputBorder}">
                    <DatePicker Date="{Binding SelectedDate, Mode=TwoWay}"
                                MaximumDate="{x:Static sys:DateTime.Now}"
                                Format="MM/yyyy" />
                </Border>

                <!-- MESSAGE -->
                <Label Text="{Binding Message}"
                       TextColor="{Binding MessageColor}"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       Margin="0,10" />

                <!-- â­ BOUTONS -->
                <Button Text="CrÃ©er le budget"
                        Command="{Binding CreateBudgetCommand}"
                        Style="{StaticResource PrimaryButton}" />

                <Button Text="Annuler"
                        Command="{Binding CancelCommand}"
                        Style="{StaticResource OutlineButton}" />

            </VerticalStackLayout>
        </ScrollView>

        <!-- â­ NAVBAR -->
        <components:Navbar Grid.Row="2" />

    </Grid>

</ContentPage>
